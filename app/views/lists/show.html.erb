<%= render "shared/banner",
      title: @list.name,
      background_image: "cinema-dark.jpg" %>

<div class="form mb-4 shadow-sm p-3">
  <h4>Add a Movie</h4>
  <%= simple_form_for [@list, @bookmark] do |f| %>
    <div class="mb-3">
      <%= f.association :movie, prompt: "Select a movie", class: "form-select" %>
    </div>
    <div class="mb-3">
      <%= f.input :comment, input_html: { class: "form-control" } %>
    </div>
    <%= f.submit "Add Movie", class: "btn btn-primary" %>
  <% end %>
</div>

<div class="d-flex flex-wrap justify-content-center gap-3">
  <% @list.bookmarks.each do |bookmark| %>
    <div class="movie-card">
      <div class="p-2 d-flex">
          <img src="<%= bookmark.movie.poster_url %>" class="me-2" style="width: 200px;" alt="Poster for <%= bookmark.movie.title %>">
            <div class="movie-info">
              <h6 class="mb-1"><%= bookmark.movie.title %></h6>
              <p class="mb-1"><%= bookmark.movie.overview %></p>
              <p class="mb-1"><small class="text-muted">Rating: <%= bookmark.movie.rating %></small></p>
              <%= link_to "Remove", bookmark_path(bookmark), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-remove btn-sm text-white" %>
            </div>
          </div>
        </div>
    </div>
  <% end %>
</div>


<%= link_to "Back to Lists", lists_path, class: "btn btn-secondary mt-4" %>
